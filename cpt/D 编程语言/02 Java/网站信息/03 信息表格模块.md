# 信息表格模块



信息表格模块一般指与数据库对应的表格
一般与数据库一一对应
又可以称为后台数据管理系统

对内的数据库有DAO(Data Access Object) 数据访问对象
对外的数据传输有DTO(Data Transfer Object)数据传输对象

对内的对应pojo实体类
对外的对应dto一般转换为json字符串信息传输
两者的对应写在service当中



## 表单验证

```html
<!-- bootstrapValidator使用这个脚本能自动验证表单 -->
<link rel="stylesheet" href="/path/to/bootstrap/css/bootstrap.css"/>
<link rel="stylesheet" href="/path/to/dist/css/bootstrapValidator.min.css"/>

<script type="text/javascript" src="/path/to/jquery/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="/path/to/bootstrap/js/bootstrap.min.js"></script>
<!-- 使用压缩过的版本-->
<script type="text/javascript" src="/path/to/dist/js/bootstrapValidator.min.js"></script>
<!-- 使用包含所有验证器的未压缩版本 -->
<script type="text/javascript" src="/path/to/dist/js/bootstrapValidator.js"></script>

```






## 添加信息



如果数据的主键id已经存在，则修改此数据，如果主键id不存在，则添加数据
表单数据上传

检查新信息格式是否正确

```java
// 前端
// 验证数据是否为空
// 验证数据格式是否合格
// 验证数据是否已经存在
// 鼠标离开就检查数据是否合格


// 后端
// 验证数据的格式




```




## 修改信息

新信息格式是否正确
是否为空






## 删除信息

每条记录都有一个是否展示的字段，删除的信息进行屏蔽

















## 展示信息


jsp->getsysRole/queryRoleList.json

用表格把信息展示出来
如果数据太多，可以输出一段区间，分页进行数据展示



分页

```java

public class Page<T> {
    List<T> list; // 数据
    int total; // 数据总数

    int pageNo; // 页码
    int pageSize; // 页容量
    int pages; //总页数
    int index; // 起点索引

    //页码，分页容量，数据总数 3 12 77
    public Page(int pageNo, int pageSize, Integer total) {
        //数据总共有几条
        this.total = total;

        //页码，默认为1
        pageNo = (pageNo == 0) ? 1 : pageNo;
        this.pageNo = pageNo;
        //页容量，默认为20
        pageSize = (pageSize == 0) ? 20 : pageSize;
        this.pageSize = pageSize;

        //计算总共会产生几页数据  pageSize=12 total=77   77/12 +1
        this.pages = (total + pageSize - 1) / pageSize;//数据的索引位置，默认是第0条数据，否则根据用户输入的值进行计算 3页 12条   从25条开始展示索引值是24
        this.index = (pageNo - 1) * pageSize;
    }



}


@RequestMapping("hotellist")
public Result getHoterl(int page, int index) {
    int pageIndex = (page - 1) * 5;
    List<HotelTable> hotelList = hotelMapper.getHotelList(pageIndex);
    return new Result(1, hotelList, "查询成功");
}

//第n页,显示m条 limit (n-1)*m , m pageIndex=(n-1)*m
@Mapper
public interface HotelMapper {
  @Select("SELECT * FROM hotel LIMIT #{pageIndex},#{pageSize}")
  List<HotelTable> getHotelList(int page);
}
```




## 返回信息

```java
public class Result {
  private int code;
  private Object data;
  private String message;

  public Result(int code, Object data, String message) {
    this.code = code;
    this.data = data;
    this.message = message;
  }
}

return new Result(404, "密码长度不正确", "请重新输入密码");

```




model/entity/pojo
vo(view object) 视图对象,传递给前端显示的内容
dto(data transfer object) 数据传输对象,一般用于POST调用
po(params object) 方法的入参,
po(Persistent object) 持久化对象,跟数据库对应
do(Domain object) 领域对象,就是从现实世界中抽象出来的业务实体
pojo(Plain Ordinary Java Object) 简单的Java对象













