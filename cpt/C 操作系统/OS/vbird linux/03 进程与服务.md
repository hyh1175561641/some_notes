


# 进程管理和SELinux


# 系统服务daemon



# 启动流程

开机检测程序



BIOS开机流程
BIOS是一个主板上的软件, CMOS记录各项硬件参数, 开机后执行的第一个程序, 接着分析电脑有哪些储存设备, 然后从某个硬盘启动, 读取第一个MBR扇区(446bytes)的容量放着开机管理程序, 之后就是MBR的开机管理程序. 然后载入内核文件,
BIOS, 开机检测存储设备, 然后尝试启动MBR
MBR开机管理程序(boot loader), 硬盘的第一个扇区, 提供选项, 载入内核文件, 转交给其他loader, 可以实现一个硬盘多个系统可以启动
内核文件, 开始操作系统的功能.
UEFI(Unified Extensible Firmware Interface), 可以支持硬件检测, 开机管理, 软件设置等功能
BIOS能够从LBA0的MBR相关区块读取第一阶段的开机管理程序, 如果能识别GPT则可以读取内核文件, 



安装Windows会覆盖Linux的MBR, 所以先装Win再装Linux,否则需要救援

grub第一版识别MBR,grub2才会识别GPT




# 救援模式
CentOS光盘开启救援模式, 假设电脑硬盘已经安装了系统
```bash
chroot /mnt/sysimage # 切换根
grub2-install /dev/vda # grub2 找到已经安装的硬盘
exit
reboot

# 开机修改启动选项
vim /etc/grub.d/40_custom
exec tail -n +3 $0
menuentry "Windows 7" {
    set root='(hd0,3)'
    chainloader +1
}

vim /etc/default/grub # 修改开机等待秒数
GRUB_TIMEOUT=30

grub2-mkconfig -o /boot/grub2/grub.cfg


```





















