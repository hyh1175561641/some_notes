






# ESP8266

https://www.espressif.com/ 乐鑫官网

http://nodemcu.doit.am/

http://bbs.doit.am/forum.php?mod=viewthread&tid=184&extra=page%3D1 75172资料 ESP8266串口wifi模块


https://github.com/SmartArduino/SZDOITWiKi/wiki/ESP8266---ESP32

http://bbs.doit.am/forum.php?mod=forumdisplay&fid=36

http://nodemcu.doit.am/index.html

http://www.360doc.com/content/20/0306/10/1266932_897169723.shtml

https://www.bilibili.com/video/BV147411h7iV?from=search&seid=15845988485087947008  Arduino IDE安装教程

ESP8266 nodeMCU lua视频教程 https://www.bilibili.com/video/av22926769

http://www.doit.am/



```
esp8266模组：esp-12f
资料
		乐鑫，安信可，技新
		
```



开发环境

NodeMcu Firmware Programmer

[ESPlorer](https://esp8266.ru/esplorer/) 下载不成功

Arduino

也可以使用Arduino IDE开发环境，添加NodeMcu模块可以正常工作

买家文档

http://nodemcu.doit.am/index.html

产品简介：更多的ESP12E DevKit扩展板、驱动板资料，可以参考http://www.doit.am/ http://www.smartarduino.com

机械尺寸：

![img] (http://nodemcu.doit.am/1.png)

![img] (http://nodemcu.doit.am/1.jpg)

快速开始：更多关于ESP8266 AT指令的资料，请参考www.ai-thinker.com。更多关于Lua的资料，请参考社区[www.doit.am](http://www.doit.am/)

文档修订记录：版本号1.00 修订范围DrALt Version 日期2015-05-19

技术支持：[http://www.doit.am](http://www.doit.am/)

电话：158 9988 0115

邮箱：support@doit.am

附件2：测试程序源码

File1：init.lua

```
--Doit WiFi Robo Car Ctronl Demo
--ap mode
--Created @ 2015-05-13 by Doit Studio
--Modified: null
--Global Site:    http://doit.am/
--China Site:    http://cn.doit.am/
--Global Shop:    http://www.smartarduino.com/
--China Shop:    http://szdoit.taobao.com/
--Chinese BBS:     bbs.iot.fm

print("\n")
print("ESP8266 Started")

local exefile="webserver"
local luaFile = {exefile..".lua"}
for i, f in ipairs(luaFile) do
    if file.open(f) then
      file.close()
      print("Compile File:"..f)
      node.compile(f)
      print("Remove File:"..f)
      file.remove(f)
    end
 end

if file.open(exefile..".lc") then
    dofile(exefile..".lc")
else
    print(exefile..".lc not exist")
end
exefile=nil;luaFile = nil
collectgarbage()
```

File2：WebServer.lua

```
--Doit WiFi Robo Car Ctronl Demo
--ap mode
--Created @ 2015-05-13 by Doit Studio
--Modified: null
--Global Site:    http://doit.am/
--China Site:    http://cn.doit.am/
--Global Shop:    http://www.smartarduino.com/
--China Shop:    http://szdoit.taobao.com/
--Chinese BBS:     bbs.iot.fm
--[ is used to replace 《

print("Start soft AP")

wifi.setmode(wifi.SOFTAP) 
local cfg={}
cfg.ssid="DoitWiFi";
cfg.pwd="12345678"
wifi.ap.config(cfg)

cfg={}
cfg.ip="192.168.1.1"
cfg.netmask="255.255.255.0"
cfg.gateway="192.168.1.1"
wifi.ap.setip(cfg)

start_init = function()  
gpio.mode(0, gpio.OUTPUT);  
gpio.mode(1, gpio.OUTPUT);
gpio.write(0,gpio.HIGH);  
gpio.write(1,gpio.HIGH);  
D1_state=0;
D0_state=0;
end

sendFileContents = function(conn, filename)      
if file.open(filename, "r") then
    --conn:send(responseHeader("200 OK","text/html"));          
    repeat           
    local line=file.readline()           
    if line then               
        conn:send(line);          
    end           
    until not line           
    file.close();      
    else
    conn:send(responseHeader("404 Not Found","text/html"));          
    conn:send("Page not found");              
    end  
end 

responseHeader = function(code, type)      
    return "HTTP/1.1 " .. code .. "\r\nConnection: close\r\nServer: nunu-Luaweb\r\nContent-Type: " .. 
    type .. "\r\n\r\n";   
end 

httpserver = function ()      
    start_init();   
    srv=net.createServer(net.TCP)       
    srv:listen(80,function(conn)         
    conn:on("receive",function(conn,request)           
    conn:send(responseHeader("200 OK","text/html"));          
    if string.find(request,"gpio=0") then              
        if D0_state==0 then
           D0_state=1;gpio.write(0,gpio.LOW);              
        else                  
           D0_state=0;gpio.write(0,gpio.HIGH);              
        end          
    elseif string.find(request,"gpio=1") then              
        if D1_state==0 then                  
           D1_state=1;gpio.write(1,gpio.LOW);              
        else  
           D1_state=0;gpio.write(1,gpio.HIGH);
        end          
    else              
        if D0_state==0 then                  
            preset0_on="";              
        end              
        if D0_state==1 then                  
            preset0_on="checked=\"checked\"";              
        end              
        if D1_state==0 then                  
            preset1_on="";              
        end              
        if D1_state==1 then                  
            preset1_on="checked=\"checked\"";              
        end 

        sendFileContents(conn,"header.htm");
        conn:send("[div>[input type=\"checkbox\" id=\"checkbox0\" name=\"checkbox0\" class=\"switch\" onclick=\"loadXMLDoc(0)\" "..preset0_on.." />");
        conn:send("[label for=\"checkbox0\">D0[/label>[/div>");              
        conn:send("[div>[input type=\"checkbox\" id=\"checkbox1\" name=\"checkbox1\" class=\"switch\" onclick=\"loadXMLDoc(1)\" "..preset1_on.." />");   
        conn:send("[label for=\"checkbox1\">D1[/label>[/div>");              
        conn:send("[/div>");          
    end          
        print(request);
    end)         
        conn:on("sent",function(conn)           
                    conn:close();           
                    conn = nil;              
                    end)      
    end)  
    end    

    httpserver()
```

File3: header.htm

![测试程序代码3](http://nodemcu.doit.am/headeer.htm.png)

http://nodemcu.doit.am/att2.html


