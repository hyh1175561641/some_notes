




https://docs.amd.com/search/all?query=zynq-7000&content-lang=en-US DOC Search Result


https://docs.amd.com/v/u/en-US/dh0050-zynq-7000-design-overview-hub


https://docs.amd.com/v/u/en-US/ug471_7Series_SelectIO UG471
https://docs.amd.com/v/u/en-US/ug472_7Series_Clocking UG472
https://docs.amd.com/v/u/en-US/ug473_7Series_Memory_Resources UG473
https://docs.amd.com/v/u/en-US/ug474_7Series_CLB UG474
https://docs.amd.com/v/u/en-US/ug476_7Series_Transceivers UG476
https://docs.amd.com/v/u/en-US/ug482_7Series_GTP_Transceivers UG482
https://docs.amd.com/r/en-US/pg054-7series-pcie PG054
https://docs.amd.com/v/u/en-US/ug479_7Series_DSP48E1 UG479
https://docs.amd.com/r/en-US/ug480_7Series_XADC UG480


https://docs.amd.com/r/en-US/ug585-zynq-7000-SoC-TRM UG585
https://docs.amd.com/v/u/en-US/UG926_Z7_ZC702_Eval_Kit








# 0-9

Page 1

Zynq 7000 Soc Technical Reference Manual
Zynq 7000片上系统 技术参考手册
UG585 (v1.14) June 30, 2023

AMD adaptive Computing is creating an environment where employees, customers, and partners feel welcome and included. To that end, we're removing non-inclusive language from our products and related collateral. We've launched an interal initiative to remove language that could exclude people or reinforce historical biases, including terms embedded in our software and IPs. You may still find examples of non-inclusive language in our older products as we work to make these changes and align with evolving industry standards. Follow this link for more information.
https://www.xilinx.com/content/dam/xilinx/publications/about/Inclusive-terminology.pdf

AMD自适应计算正在创建一个让雇员,客户,和合伙伙伴感到受欢迎和包容的环境. 为了这个目的, 我们正在移除了非包容性语言从我们产品和相关抵押品. 我们已经启动一个内部倡议去移除语言可以排除人类或强化历史偏见, 包括嵌入的术语在我们软件和知识产权中. 你或许仍然寻找例子不包容语言在我们老旧的产品 当我们工作去做这些改变与保持一致进化工业标准. 跟随这个链接为更多信息.

interal 内部
initiative 倡议
exclude 排除
reinforce 加强
historical 历史的
biases 偏见
terms 条款
still 仍然
non-inclusive 不包容
align 排列
evolving 进化
industry 工业
standards 标准




# Table of Contents


Page 2

Table of Contents
Chapter 1: Introduction
Overview
Processing System (PS) Features and Descriptions
Programmable Logic Features and Descriptions
Interconnect Features and Descriptions
System Software

Chapter 2: Signals, Interfaces, and Pins
Introduction
Power Pins
PS IO Pins
PS-PL Voltage Level Shifter Enables
PS-PL MIO-EMIO Signals and Interfaces
PS-PL AXI Interfaces
PS-PL Miscellaneous Signals
PL IO Pins

Chapter 3: Application Processing Unit
Introduction
Cortex-A9 Processors
Snoop Control Unit (SCU)
L2-Cache
APU Interfaces
Support for TrustZone
Application Processing Unit(APU) Reset
Power Considerations
CPU Initialization Sequence
Implementation-Defined Configurations

Chapter 4: System Addresses
Address Map
System Bus Masters
SLCR Registers


Page 3

CPU Private Bus Registers
SMC Memory
PS IO Peripherals
Miscellaneous PS Registers

Chapter 5: Interconnect
Introduction
Quality of Service (QoS)
AXI_HP Interfaces
AXI_ACP Interfaces
AXI_GP Interfaces
PS-PL AXI Interface Signals
Loopback
Exclusive AXI Accesses

Chapter 6: Boot and Configuration
Introduction
Device Start-up
BootROM Code
Device Boot and PL Configuration
Reference Section

Chapter 7: Interrupts
Environment
Functional Description
Register Overview
Programming Model

Chapter 8: Timers
Introduction
CPU Private Timers and Watchdog Timers
Global Timer (GT)
System Watchdog Timer (SWDT)
Triple Timer Counters (TTC)
IO Signals

Chapter 9: DMA Controller
Introduction
Functional Description
Programming Guide for DMA Controller


Page 4

Programming Guide for DMA Engine
Programming Restrictions
System Functions
IO Interface

Chapter 10: DDR Memory Controller
Introduction
AXI Memory Port Interface (DDRI)
DDR Core and Transaction Scheduler (DDR)
DDRC Arbitration
Controller PHY (DDRP)
Functional Programming Model
Register Overview
Error Correction Code (ECC)
Operational Programming Model

Chapter 11: Static Memory Controller
Introduction
Functional Operation
IO Signals
Wiring Diagrams
Register Overview
Programming Model
NOR Flash Bandwidth

Chapter 12: Quad-SPI Flash Controller
Introduction
Functional Description
Programming Guide
System Functions
IO Interface

Chapter 13: SD/SDIO Controller
Introduction
Functional Description
Programming Model
SDIO Controller Media Interface Signals

Chapter 14: General Purpose IO (GPIO)
Introduction


Page 5

Functional Description
Programming Guide
System Functions
IO Interface

Chapter 15: USB Host, Device, and OTG Controller
Introduction
Functional Description
Programming Overview and Reference
Device Mode Control
Device Endpoint Data Structures
Device Endpoint Descriptor Reference
Programming Guide for Device Controller
Programming Guide for Device Endpoint Data Structures
Host Mode Data Structures
EHCI Implementation
Host Data Structures Reference
Programming Guide for Host Controller
OTG Description and Reference
System Functions
IO Interfaces

Chapter 16: Gigabit Ethernet Controller
Introduction
Functional Description and Programming Model
Programming Guide
IEEE 1588 Timestamping
Register Overview
Signals and IO Connections
Known Issues

Chapter 17: SPI Controller
Introduction
Functional Description
Programming Guide
System Functions
IO Interfaces

Chapter 18: CAN Controller
Introduction


Page 6

Functional Description
Programming Guide
System Functions
IO Interface

Chapter 19: UART Controller
Introduction
Functional Description
Programming Guide
System Functions
IO Interface

Chapter 20: I2C Controller
Introduction
Functional Description
Programmer's Guide
System Functions
IO Interface

Chapter 21: Programmable Logic Description
Introduction
PL Components
Input/Output
Configuration

Chapter 22: Programmable Logic Design Guide
Introduction
Programmable Logic for Software Offload
PL and Memory System Performance Overview
Choosing a Programmable Logic Interface

Chapter 23: Programmable Logic Test and Debug
Introduction
Functional Description
Signals
Register Overview
Programming Model

Chapter 24: Power Management
Introduction


Page 7

System Design Considerations
Programming Guides
Sleep Mode
Register Overview

Chapter 25: Clocks
Introduction
CPU Clock
System-wide Clock Frequency Examples
Clock Generator Design
DDR Clocks
IOP Module Clocks
PL Clocks
Trace Port Clock
Register Overview
Programming Model

Chapter 26: Reset System
Introduction
Reset Sources
Reset Effects
PL Resets
Register Overview

Chapter 27: JTAG and DAP Subsystem
Introduction
Functional Description
IO Signals
Programming Model
Arm DAP Controller
Trace Port Interface Unit (TPIU)
AMD TAP Controller

Chapter 28: System Test and Debug
Introduction
Functional Description
IO Signals
Register Overview
Programming Model


Page 8

Chapter 29: On-Chip Memory (OCM)
Introduction
Functional Description
Register Overview
Programming Model

Chapter 30: XADC Interface
Introduction
Functional Description
PS-XADC Interface Description
Programming Guide for the PS-XADC Interface
Programming Guide for the DRP Interface
Programming Guide for the PL-JTAG Interface
System Functions

Chapter 31: PCI Express
Introduction
Block Diagram
Features
EndPoint Use Case
Root Complex Use Case

Chapter 32: Device Secure Boot
Introduction
Functional Description
Secure Boot Features
Programming Considerations

Appendix A: Register Details
Overview
Acronyms
Module Summary
AXI_HP Interface (AFI) (axi_hp)
CAN controller (can)
DDR Memory Controller (ddrc)
CoreSight Cross Trigger Interface (cti)
Performance Monitor Unit (cortexa9_pmu)
CoreSight Program Trace Macrocell (ptm)
Debug Access Port (dap)
CoreSight Embedded Trace Buffer (etb)


Page 9

PL Fabric Trace Monitor (ftm)
CoreSight Trace Funnel (funnel)
CoreSight Intstrumentation Trace Macrocell (itm)
CoreSight Trace Packet Output (tpiu)
Device Configuration Interface (devcfg)
DMA Controller (dmac)
Gigabit Ethernet Controller (GEM)
General Purpose IO (gpio)
Interconnect QoS (qos301)
NIC301 Address Region Control (nic301_addr_region_ctrl_registers)
I2C Controller (IIC)
L2 Cache (L2Cpl310)
Application Processing Unit (mpcore)
On-Chip Memory (ocm)
Quad-SPI Flash Controller (qspi)
SD Controller (sdio)
System Level Control Registers (slcr)
Static Memory Controller (pl353)
SPI Controller (SPI)
System Watchdog Timer (swdt)
Triple Timer Counter (ttc)
UART Controller (UART)
USB Controller (usb)

Appendix B: Additional Resources and Legal Notices
Finding Additional Documentation
Support Resources
Solution Centers
References
Revision History
Please Read: Important Legal Notices


# 1X

Page 10

# 1 Introduction

Chapter 1 Introduction
Overview

The ZynqTM 7000 family is based on the AMD SoC architecture. These products integrate a feature-rich dual or single-core ArmTM CortexTM-A9 MPCoreTM based processing system (PS) and AMD programmable logic (PL) in a single device, built on a state-of-the-art, high-performance, low-power (HPL), 28 nm, and high-k metal gate (HKMG) process technology. The Arm Cortex-A9 MPCore CPUs are the heart of the PS which also includes on-chip memory, external memory interfaces, and a rich set of IO peripherals.
Zynq 7000家族芯片是基于AMD片上系统架构体系. 这些产品集成了一个功能丰富的双/单核ARM Cortex-A9 MPCore基于PS和PL在单个设备, 构建在最先进, 高性能, 低功耗, 28nm, 和金属电闸的工艺技术. Arm Cortex-A9 MPCore CPUs是PS的核心包括芯片内的内存和外部内存接口, 和一套丰富的IO外围设备.

The Zynq 7000 family offers the flexibility and scalability of an FPGA, while providing performance, power, and ease of use typically associated with ASIC and ASSPs. The range of devices in the Zynq 7000 SoC family enables designers to target cost-sensitive as well as high-performance applications from a single platform using industry-standard tools. While each device in the Zynq 7000 family contains the same PS, the PL and I/O resources vary between the devices. As a result, the Zynq 7000 SoC devices are able to serve a wide range of applications including:
Automotive driver assistance, driver information, and infotainment
Broadcast camera
Industrial motor control, industrial networking, and machine vision
IP and smart camera
LTE radio and baseband
Medical diagnostics and imaging
Multifunction printers
Video and night vision equipment

Zynq 7000家族提供FPGA的灵活性和可拓展性为, 当提供高性能, 强大, 和易于使用通常带有专用电路和标准产品. 范围设备在Zynq70000家族能够让设计者去目标成本敏感,更好的高性能应用程序从单个平台使用工业标准工具.虽然每个设备在Zynq 7000家族包括相同的PS, PL和IO资源在设备间存在差异.所以, Zynq 7000SoC设备能够服务广泛的应用程序包括:
汽车驾驶辅助、驾驶员信息和信息娱乐
广播摄像机
工业电机控制、工业网络和机器视觉
IP和智能摄像头
LTE无线电和基带
医学诊断和成像
多功能打印机
视频和夜视设备

The Zynq 7000 architecture conveniently maps the custom logic and software in the PL and PS respectively. It enables the realization of unique and differentiated system functions. The integration of the PS with the PL provides levels of performance that two-chip solutions (for example, an ASSP with an FPGA) cannot match due to their limited I/O bandwidth, loose-coupling and power budgets.
Zynq 7000体系架构方便地绘制定制电路和软件各自在PL和PS里. 它能够实现独特和有差别的系统功能. 集成PS带PL提供性能级别两个芯片解决方案(比如, 一个ASSP带一个FPGA)不能匹配正向他们有限IO频宽, 松耦合和强大预算.

architecture 体系结构
conveniently 方便顺利
maps 绘制
custom 定制习惯
respectively 分别
realization 实现
unique 唯一的
differentiated 分化的, 有差别
ASSP
FPGA 
due 正向
bandwidth 频宽
loose-coupling 松耦合
budgets 预算


Page 11

AMD and the AMD Alliance partners offer a large number of soft IP modules for the Zynq 7000 family. Stand-alone and Linux device drivers are available for the peripherals in the PS and the PL from AMD and additional OSes and board support packages (BSPs) from partners. The ISETM Design Suite Embedded Edition development environment enables a rapid product development for software, hardware, and systems engineers. Many third-party software development tools are also available.
AMD与AMD联盟合伙人提供大量的软件IP模块为Zynq7000家族. 独立和Linux设备驱动是可获得的为外围设备用在PS和PL里从AMD和附加操作系统和开发板支持包从合伙人那里. ISE设计套件嵌入版本开发环境能够快速产品开发为软硬件系统工程师. 许多第三方软件开发套件也是可获取的.


The processor(s) in the PS always boot first, allowing a software centric approach for PL system boot and PL configuration. The PL can be configured as part of the boot process or configured at some point in the future. Additionally, the PL can be completely reconfigured or used with partial, dynamic reconfiguration (PR). PR allows configuration of a portion of the PL. This enables optional design changes such as updating coefficients or time-multiplexing of the PL resources by swapping in new algorithms as needed. This latter capability is analogous to the dynamic loading and unloading of software modules. The PL configuration data is referred to as a bitstream.
处理器在PS总是最先启动,允许以软件为中心的方法进行PL系统启动和PL配置. PL可以被配置作为启动程序的一部分或者配置在一些点在未来. 另外, PL可以被完全重新配置或者使用部分动态重新配置.PR允许配置PL一部分. 这些能够选择设计变化比如更新系数或者时间复用PL资源的通过交换新算法作为需求. 这个后者的能力是类似去动态装载卸载软件模块. PL配置数据被称为比特流.

Block Diagram
块状图

Figure 1-1 illustrates the functional blocks of the Zynq 7000 SoC. The PS and the PL are on separate power domains, enabling the user of these devices to power down the PL for power management if required.
Figure 1-1 说明功能块Zynq7000SoC的. PS和PL是在不同电源区域, 这些设备的用户能够关闭PL电源为电源管理如果有必要.

alliance 联盟
partners 合伙人
peripherals 外围设备
additional 附加的
edition 版本编辑
rapid 快速的
product 产品
centric 中心的中央的
approach 方法
completely 完全的
multiplexing 复用倍增
latter 后者的
capability 能力
analogous 类似的
be referred to 是指, 被称为
bitstream 比特流
illustrates 说明
functional 功能
separate 分离
domains 域
enabling 有可能


Page 12

Zynq-7000 SoC Struct Diagram

Notes:
1 Arrow direction shows control (master to slave)
2 Data flows in both directions: AXI 32bit/64bit, AXI 64bit, AXI 32bit, AHB 32bit, APB 32bit, Custom
3 Gray blocks in APU are applicable to dual core devices.
笔记:
1 箭头方向显示控制(从主人到仆从)
2 数据流在两个方向: AXI 32bit/64bit, AXI 64bit, AXI 32bit, AHB 32bit, APB 32bit, 定制
3 灰色区域在APU 是 适用于双核设备

Figure 1-1: Zynq 7000 SoC Overview


Page 13


The Zynq 7000 SoC is composed of the following major functional blocks:
Zynq7000Soc被构成下面主要功能块:
Processing System (PS)
Application processor unit (APU)
Memory interfaces
I/O peripherals (IOP)
Interconnect
Programmable Logic (PL)

Documentation Resources
文档资源

Table 1-1 identifies the versions of third-party IP used in the Zynq 7000 SoC devices. 
Table 1-1 确认版本第三方IP使用 在Zynq7000SoC设备.

Table 1-1: Vendor IP Versions 供应商IP版本
Unit Supplier Version 单元 供应商 版本
Cortex-A9 MPCore Arm r3p0
AMBA Level 2 Cache Controller (PL310) Arm r3p2-50rel0
PrimeCell Static Memory Controller (PL353) Arm r2p1
PrimeCell DMA Controller (PL330) Arm r1p1
Generic Interrupt Controller (PL390) Arm Arch v1.0, r0p0
CoreLink Network Interconnect (NIC-301) Arm r2p2
DesignWare Cores IntelliDDR Multi Protocol Memory Controller Synopsys A07
USB 2.0 High Speed Atlantic Controller Synopsys 2.20a
Watchdog Timer Cadence Rev 07
Inter Intergrated Circuit Cadence r1p10
Gigabit Ethernet MAC Cadence r1p23
Serial Peripheral Interface Cadence r1p06
Universal Asynchronous Receiver Transmitter Cadence r1p08
Triple Timer Counter Cadence Rev 06
SD2.0/SDIO2.0/MMC3.31 AHB Host Controller Arasan 8.9A_apr02nd_2010

The PL is derived from AMD 7 series FPGA technology: ArtixTM 7 for the 7z010/7z015/7z020 (dual core devices) and 7z007s/7z012s/7z014s (single core devices), and KintexTM 7 for the 7z030/7z035/7z045/7z100 devices. The PL is used to extend the functionality to meet specific application requirements. The PL includes many different types of resources including configurable logic blocks (CLBs), port and width configurable block RAM (BRAM), DSP slices with a 25 x 18 multiplier, 48-bit accumulator and pre-adder (DSP48E1), a user configurable analog to digital convertor (XADC), clock management tiles (CMT), a configuration block with 256b AES for decryption and SHA for authentication, configurable SelectIOTM technology and optionally GTP or GTX multi-gigabit transceivers and an integrated PCI Express (PCIe) block.

PL来源于从AMD7系列FPGA技术: Artix 7为7z010/7z015/7z020(双核设备)和7z007s/7z012s/8z014s(单核设备)，和 Kintex 7 为7z030/7z035/7z045/7z100设备. PL被使用去拓展功能去满足特殊的应用程序要求. PL包括许多不同类型的资源 包括可配置的逻辑块(CLBs), 端口和宽度可配置块RAM, DSP片带25x18乘法器, 48位累加器和前置加法器(DSP48E1), 一个用户可配置的模数转换器(XADC), 时钟管理片(CMT), 一个配置块带256BAES为解密和SHA为认证, 可配置的SelectIO技术和可选的GTP或GTX千兆位收发器和一个集成PCI通道块.

composed 组成构成
series 系列
slices 片
analog 模拟的类似的
digital 数字的
convertor 转换器
tiles 瓦片
decryption 解密
authentication 认证


Page 14


To learn more about the PL resources, refer to the following AMD 7 series FPGA User
Guides:
7 Series FPGAs SelectIO Resources User Guide (UG471) 188
https://docs.amd.com/v/u/en-US/ug471_7Series_SelectIO
7 Series FPGAs Clocking Resources User Guide (UG472) 144
https://docs.amd.com/v/u/en-US/ug472_7Series_Clocking
7 Series FPGAs Memory Resources User Guide (UG473) 88
https://docs.amd.com/v/u/en-US/ug473_7Series_Memory_Resources
7 Series FPGAs Configurable Logic Block User Guide (UG474) 74
https://docs.amd.com/v/u/en-US/ug474_7Series_CLB
7 Series FPGAs GTX Transceiver User Guide (UG476) 506
https://docs.amd.com/v/u/en-US/ug476_7Series_Transceivers
7 Series FPGAs GTP Transceiver User Guide (UG482) 306
https://docs.amd.com/v/u/en-US/ug482_7Series_GTP_Transceivers
7 Series FPGAs Integrated Block for PCI Express LogiCORE IP Product Guide (PG054) 413
https://docs.amd.com/r/en-US/pg054-7series-pcie
7 Series FPGAs DSP48E1 User Guide (UG479) 58
https://docs.amd.com/v/u/en-US/ug479_7Series_DSP48E1
7 Series FPGAs XADC User Guide (UG480) 82
https://docs.amd.com/r/en-US/ug480_7Series_XADC

了解更多关于PL资源, 参考下面AMD7系列FPGA用户向导:
7系列FPGAs SelectIO资源用户向导(UG471)
7系列FPGAs 时钟资源用户向导(UG472)
7系列FPGAs 内存资源用户向导(UG473)
7系列FPGAs 可配置逻辑块用户向导(UG474)
7系列FPGAs GTX 收发器用户向导(UG476)
7系列FPGAs GTP 收发器用户向导(UG482)
7系列FPGAs 集成块为PCI插槽逻辑核IP产品指南(PG054)
7系列FPGAs DSP48E1用户向导(UG479)
7系列FPGAs XADC用户向导(UG480)

The PS and PL can be tightly or loosely coupled using multiple interfaces and other signals that have a combined total of over 3,000 connections. This enables you to effectively integrate user-created hardware accelerators and other functions in the PL logic that are accessible to the processors and can also access memory resources in the processing system.
PS和PL可以紧紧的或松散的连接使用大量的接口和其他信号组合总数超过3000的连接. 这可让你去有效的集成用户创建的硬件加速器和其他功能在PL逻辑是可访问的去处理和访问内存资源在PS里.

The PS I/O peripherals, including the static/flash memory interfaces share a multiplexed I/O (MIO) of up to 54 MIO pins. Zynq 7000 SoC devices also include the capability to use the I/Os that are part of the PL domain for many of the PS I/O peripherals. This is done through an extended multiplexed I/O interface (EMIO).
PS IO外围设备, 包括静态闪存内存接口共享多路复用IO(MIO)多达54针脚. Zynq 7000SoC设备也包括能力去使用IOPL域的一部分为许多PSIO外围设备. 这是完成的通过拓展多路复用IO接口(EMIO).

The system includes many types of security, test and debug features. The Zynq 7000 SoC can be booted securely or non-securely. The PL configuration bitstream can be applied securely or non-securely. Both of these use the 256b AES decryption and SHA authentication blocks that are part of the PL. Therefore, to use these security features, the PL must be powered on.
系统包括许多类型的安全性, 测试和调试特性. Zynq 7000SoC可以被引导安全或非安全. PL配置比特流可以被应用安全或非安全. 两个都可使用256BAES解密和SHA认证块PL一部分. 所以, 去使用这些安全特性, PL必须通电.

The boot process is multi-stage and minimally includes the boot ROM and the first-stage boot loader (FSBL). The Zynq 7000 SoC includes a factory-programmed boot ROM that is not user accessible. The boot ROM determines whether the boot is secure or non-secure, performs some initialization of the system and clean-ups, reads the mode pins to determine the primary boot device and finishes once it is satisfied it can execute the FSBL.
引导过程是多阶段和最低限度的包括启动ROM和第一阶段启动引导(FSBL). Zynq7000SoC包括出厂引导ROM不是用户访问. 引导ROM确定是否引导安全或非安全, 执行一些初始化系统和清理, 读取模式引脚去确定主要引导设备和完成一次确信,可以执行FSBL.

After a system reset, the system automatically sequences to initialize the system and process the first stage boot loader from the selected external boot device. The process enables you to configure the SoC platform as needed, including the PS and the PL. Optionally, the JTAG interface can be enabled to give the design engineer access to the PS and the PL for test and debug purposes.
之后系统重置, 系统自动序列去初始化系统和处理第一步引导启动从被选的拓展引导设备. 处理能够使你去配置Soc平台根据需要, 包括PS和PL. 可选的, JTAG接口可以被开启去给设计工程师访问去PS和PL为测试和调试用途.

tightly 紧紧地
loosely 松散的
coupled 耦合, 连接
multiple 数量多的
combined 结合
accelerators 加速器
accessible 可使用的
processors 处理器
access 访问, 通道




翻译
原文
语法分析
单词库 


Page 15

Power to the PL can be optionally shut off to reduce power consumption. In addition, the clocks in the PS can be dynamically slowed down or gated off to reduce power further. Zynq 7000 SoC devices support the Arm standby mode to obtain minimal power drain, but still are able to start up when certain events occur.
电源到PL可以随意关掉电源去减少消耗. 除此之外, 时钟在ps里可以动态缓慢的或者关闭去降低功耗进一步. Zynq 7000SoC设备支持Arm待命模式去获取极小的电源排放, 但是仍然开启当某些事件发生.

Elements of the Zynq 7000 SoC are described from the point of view of the PS. For example, a general purpose slave interface on the PS to the PL means that the master resides in the PL. A high performance slave interface means the high performance master resides in the PL. A general purpose master interface means the PS is the master and the slave resides in the PL.
Zynq 7000Soc的元素被描述从要点PS角度. 比如, 一个通用目的从接口在PS到PL意味着主设备固定PL里. 高性能从接口意思高性能主固定在PL里. 一个通用目的主接口意思PS是主从固定在PL里.

Notices 注意
Zynq 7000 SoC Device Family Zynq 7000Soc 设备家族
The PS structure for all Zynq 7000 SoC devices is the same except for the following:
PS架构为所有Zynq7000SoC设备是相同的除了下面这些:

7z007s and 7z010 CLG225 Devices
The 7z007s single core and 7z010 dual core CLG225 devices have a limited number of pins (225). This reduces the capability of the MIO, DDR and XADC subsystems.
32 MIO pins, see section MIO Pin Assignment Considerations(P36)
16 DDR data, see section Notices(P306) in Chapter 10, DDR Memory Controller(P303)
Four pairs of XADC signals, see Notices(P799) in Chapter 30, XADC Interface(P794)
7z007s and 7z010 CLG225 设备
7z007s单核和7z010双核CLG225设备有限制数量的针脚(225). 这个降低能力的MIO,DDR,XADC子系统.
32MIO针脚, 查看部分MIO针脚分配注意事项.
16 DDR数据, 查看部分笔记, 在10章, DDR内存控制器
四对XADC信号, 查看笔记在30章,XADC接口.

Device Revisions 
The visual markings are shown in the Zynq-7000 SoC Packaging and Pinout Advance Product Specification (UG865 https://docs.amd.com/v/u/en-US/ug865-Zynq-7000-Pkg-Pinout).
Software can read the following registers in all Zynq 7000 SoC devices to determine silicon revision:
devcfg.MCTRL [PS_VERSION]
slcr.PSS_IDCODE[IDCODE]
The JTAG interface also includes the IDCODE revision content.
设备修订
视觉标记被呈现在Zynq-7000Soc包装和引脚先进产品规范.
软件可以读取下列寄存器在所有Zynq7000Soc设备,确定硅元素修订
Software can read the following registers in all Zynq 7000 SoC devices to determine silicon revision: devcfg.MCTRL [PS_VERSION] slcr.PSS_IDCODE[IDCODE]
JTAG接口也包括IDCODE修订内容

TrustZone Capabilities
TrustZone is hardware that is built into all Zynq 7000 SoC devices. For more information, see
Programming ARM TrustZone Architecture on the Xilinx Zynq-7000 SoC (UG1019 https://docs.amd.com/v/u/en-US/ug1019-zynq-trustzone).
信任区能力
信任区是硬件被构建在所有Zynq7000Soc设备. 更多信息, 查看ARM信任区架构在Xilinx Zynq-7000SoC

optionally 随意的
shut off 关掉
reduce 减少
consumption 消费
in addition 此外
dynamically 动态的
addition 附加
slowed down 缓慢的
gate 大门
gated off 已关闭
further 进一步的
standby 待命状态
obtain 获得
minimal 极小的
drain 排水
certain 确定, 某些
occur 发生
described 描述
purpose 目的
slave 奴隶
means 方法
resides 居住在定居于
performance 表演
reduces 减少
capability 能力
assignment 分配
considerations 考虑考量
controller 控制器
pairs 一对
revisions 修订
visual 视觉
markings 标记
packaging 包装
pinout 引脚
determine 确定
silicon 硅元素
revision 修订
content 内容
TrustZone 信任区
Capabilities 能力


Page 16


Processing System (PS) Features and Descriptions
处理系统的特点和描述
Application Processor Unit (APU) 应用处理单元
The application processor unit (APU) provides an extensive offering of high-performance features and standards-compliant capabilities.
APU提供一个广泛的功能高性能特色和遵循标准功能.
Dual/Single Arm Cortex-A9 MPCore CPUs with Arm v7 单双核ARM Cortex-A9 MPCore CPUs带Arm v7
Run time options allow single processor, asymmetrical (AMP) or symmetrical multiprocessing (SMP) configurations 运行时选项允许单处理器, 不对称或对称多处理配置
Arm version 7 ISA: standard Arm instruction set and Thumb-2, Jazelle RCT and Jazelle DBX Java acceleration ARM版本7ISA: 标准ARM指令集和Thumb-2,Jazelle RCT和Jazelle DBX Java加速
NEON 128b SIMD co-processor and VFPv3 per MPCore NEON128b SIMD协处理器和VFPv3每个MPCore
32 KB instruction and 32 KB data L1 caches with parity per MPCore 32KB指令和32KB数据L1缓存带奇偶校验每个MPCore
512 KB of shareable L2 cache with parity 512KB可共享的L2缓存带奇偶校验
Private timers and watchdog timers 专用定时器和看门狗定时器

System Features 系统特点
System-Level Control Registers (SLCRs) 系统级控制寄存器
  A group of various registers that are used to control the PS behavior 一组各种寄存器被使用去控制PS动作
  The register map is located in Chapter 4, System Addresses(P106) 寄存器映射位于第4章, 系统地址
  The SLCR registers related to a specific chapter are listed in the register overview table of that chapter and detailed in Appendix A, Register Details(P830) SLCR寄存器相关具体章节被列出在寄存器概述表章和详细在附加A, 寄存器详细信息
Snoop control unit (SCU) to maintain L1 and L2 coherency 监听控制单元目的是保持L1和L2一致
Accelerator coherency port (ACP) from PL (master) to PS (slave) 加速器一致性端口从主PL到从PS
  64b AXI slave port 64b AXI从属端口
  Can access the L2 and the OCM 可以访问l2和ocm
  Transactions are data coherent with L1 and L2 caches 事务是数据一致带L1和L2缓存
256 KB of on-chip SRAM (OCM) with parity 256KB片上SRAM(OCM)带奇偶校验
  Dual ported 双端口
  Accessible by the CPUs, PL and central interconnect 访问通过CPU, PL和中央互联
  At level of L2, but is not cacheable L2级, 但不可缓存
DMA controller DMA控制

extensive 广泛的
offering 提供
standards 标准
compliant 顺从的
capabilities 能力
asymmetrical 不对称的不均匀的
symmetrical 对称的均匀的
multiprocessing 多处理
configurations 配置
instruction 用法说明
acceleration 加速
parity 对等 平等 相同
control 控制
various 各种各样的
behavior 行为态度
located 位置坐落
related 相关的
specific 具体明确
snoop control unit 监听控制单元
maintain 保持
coherency 一致
accelerator coherency port 加速器一致性端口


Page 17

  Four channels for PS (memory copy to/from any memory in system) 四通道为PS(内存复制到任何内存在系统中)
  Four channels for PL (memory to PL, PL to memory) 四通道为PL(内存到PL, PL到内存)
General interrupt controller (GIC) 通用中断控制器
  Individual interrupt masks and interrupt prioritization 个人中断掩码和中断优先级
  Five CPU-private peripheral interrupts (PPI) 五个CPU专用外围中断
  Sixteen CPU-private software generated interrupts (SGI) 16个cpu专用软件生成的中断
  Distributes shared peripheral interrupts (SPI) from the rest of the system, PS and PL 20 from the PL 分配共享外围中断从休息系统,PS,PL 20从PL
  Wait for interrupt (WFI) and wait for event (WFE) signals from CPU sent to PL 等待为中断和等待为事件信号从CPU发送到PL
  Enhanced security features to support TrustZone technology 增强安全特性支持信任区技术
Watchdog timer, triple counter/timer 看门狗定时器, 三倍计数器/定时器

Memory Interfaces 内存接口
The memory interfaces includes multiple memory technologies.
内存接口包括多种内存科技

DDR Controller DDR控制器
Supports DDR3, DDR3L, DDR2, LPDDR-2 支持DDR3, DDR3L, DDR2, LPDDR-2
  Rate is determined by speed and temperature grade of the device 速率被确定通过速度温度级别设备的
16b or 32b wide 16b或32b宽度
  ECC on 16b ECC用在16b上
Uses up to 73 dedicated PS pins 用上73专用PS针上
Modules (no DIMMs) 模块(没有DIMMs)
  32b wide: 4 x 8b, 2 x 16b, 1 x 32b 32b宽度: 4x8b,2x16b,1x32b
  16b wide: 2 x 8b, 1 x 16b 16b宽度: 2x8b,1x16b
Autonomous DDR power down entry and exit based on programmable idle periods 自治的DDR电源关闭进入和退出基于可编程的空闲周期
Data read strobe auto-calibration 数据读取频闪自动校准
Write data byte enables supported for each data beat 等待数据字节能够支持每个数据节拍
Low latency read mechanism using HPR queue 低延迟读取机械使用HPR队列
Special urgent signaling to each port 特殊紧急信号到每个端口
TrustZone regions programmable on 64 MB boundaries 信任区地区可编程的在64MB边界范围
Exclusive accesses for two different IDs per port (locked transactions are not supported) 排除访问为两个不同ID每个端口(锁定事务是不被支持)

individual 个人
masks 掩码
prioritization 优先级
private 私有的
peripheral 外围设备
generated 产生
distributes 分配
enhanced 增强
security 安全
rate 速率
determined 确定的
temperature 温度
grade 等级
dedicated 专用的
autonomous 自治的
entry 进入
programmable 可编程的
idle 空闲的
periods 周期
strobe 频闪闪光灯
calibration 校准
beat 击败
latency 延迟
mechanism 机械
special 特殊
urgent 急迫的
signaling 打信号
regions 地区
boundaries 边界范围
exclusive 排斥
access 通道访问
transactions 事务


Page 18


DDR Controller Core and Transaction Scheduler
  Transaction scheduling is done to optimize data bandwidth and latency
  Advanced re-ordering engine to maximize memory access efficiency with target of 90% efficiency with continuous read and write and 80% efficiency with random read and write
  Write-read address collision checking that flushes the write buffer
  Obeys AXI ordering rules

Quad-SPI Controller
  Key features of the linear Quad-SPI controller (which can be a primary boot device) are:
  Single or dual
  1x and 2x read support
  32-bit APB 3.0 interface for I/O mode that allows full device operations including program, read and configuration
  32-bit AXI linear address mapping interface for read operations
  Single device select line support
  Supports write protection signal
  4-bit bidirectional I/O signals
  Read speed of x1, x2 and x4
  Write speed of x1 and x4
  Maximum Quad-SPI clock at master mode is 100 MHz
  252-byte entry FIFO depth to improve Quad-SPI read efficiency
  Supports Quad-SPI device up to 128 Mb density in I/O and linear mode. >128Mb devices are supported in IO mode only.
  Supports dual Quad-SPI with two quad-SPI devices in parallel

In addition, the linear address mapping mode features include:
  Supports regular read-only memory access through the AXI interface
  Up to two SPI flash memories
  Up to 16 MB addressing space for one memory and 32 MB for two memories in linear mode
  AXI read acceptance capability of 4
  Both AXI incrementing and wrapping-address burst read

Page 19


  Automatically converts normal memory read operation to SPI protocol, and vice versa
  Serial, Dual and Quad-SPI modes

Static Memory Controller (SMC)
Either of the following can be the primary boot device:
NAND controller
  8/16-bit I/O width with one chip select signal
  ONFI specification 1.0
  16-word read and 16-word write data FIFOs
  8-word command FIFO
  Programmable I/O cycle timing
  ECC assist
  Asynchronous memory operating mode
Parallel SRAM/NOR controller
  8-bit data bus width
  One chip select with up to 25 address signals (32 MB)
  Two chip selects with up to 25 address signals (32 MB + 32 MB)
  16-word read and 16-word write data FIFOs
  8-word command FIFO
  Programmable I/O cycle timing on a per chip select basis
  Asynchronous memory operating mode

I/O Peripherals
The I/O Peripherals (IOP) are a collection of industry-standard interfaces for external data communication.
Note: The controller registers require single 32-bit read/write accesses, do not use byte, halfword, or double word references.

GPIO
Up to 54 GPIO signals for device pins routed through the MIO
  Outputs are 3-state capable
192 GPIO signals between the PS and PL via the EMIO




# 2X


Page 20

  64 Inputs, 128 outputs (64 true outputs and 64 output enables)
The function of each GPIO can be dynamically programmed on an individual or group basis
  Enable, bit or bank data write, output enable and direction controls
Programmable Interrupts on individual GPIO basis
  Status read of raw and masked interrupt
  Positive edge, negative edge, either edge, high level, low level sensitivities

Gigabit Ethernet Controllers (Two)
RGMII interface using MIO pins and external PHY
Additional interface using PL SelectIO and external PHY with additional soft IP in the PL
SGMII interface using PL GTP or GTX transceivers
Built-in DMA with scatter-gather
IEEE 802.3-2008
Wake-on capability

USB Controllers: Each as Host, Device or OTG (Two)
USB 2.0 high speed on-the-go (OTG) dual role USB host controller or USB device controller operation using the same hardware
MIO pins only (one USB controller is available in the 7x010 device)
Built-in DMA
USB 2.0 high speed device
USB 2.0 high speed host controller
The USB host controller registers and data structures are EHCI compatible
Direct support for USB transceiver low pin interface (ULPI). The ULPI module supports 8 bits
External PHY required
Support up to 12 endpoints

SD/SDIO Controllers (Two)
Bootable SD Card mode (option)
Built-in DMA
Host mode support only





Page 21

Support for version 2.0 of SD specification
Full speed and low speed support
1-bit and 4-bit data interface support
Low speed clock 0–400 kHz
Support for high speed interface
Full speed clock 0-50 MHz with maximum throughput at 25 MB/s
Support for memory, I/O, and combination cards
Support for power control modes
Support for interrupts
1 KB Data FIFO interface

SPI Controllers (Two): Master or Slave
Four wire bus: MOSI, MISO, SCLK, SS
Full-duplex operation offers simultaneous receive and transmit
Master mode
  Manual or auto start transmission of data
  Manual or auto slave select (SS) mode
  Supports up to three slave select lines
  Allows the use of an external peripheral select 3-to-8 decode
  Programmable delays for data transmission
Slave mode
  Programmable start detection mode
Multi-master environment
  Drives into 3-state if not enabled
  Identifies an error condition if more than one master detected
Supports 50 MHz maximum external SPI clock rate through MIO
  25 MHz maximum through EMIO to PL SelectIO pins
Selectable master clock reference
Programmable master baud rate divisor
Supports 128-byte read and 128-byte write FIFOs
  Each FIFO is 8-bit wide
Programmable FIFO thresholds

Page 22

Supports programmable clock phase and polarity
Supports manual or auto start transmission of data
Software can poll for status or function as interrupt-driven
Programmable interrupt generation

CAN Controllers (Two)
Conforms to the ISO 11898 -1, CAN 2.0A, and CAN 2.0B standards
Supports both standard (11-bit identifier) and extended (29-bit identifier) frames
Supports bit rates up to 1 Mb/s
Transmit message FIFO with a depth of 64 messages
Transmit prioritization through one high-priority transmit buffer
Support of watermark interrupts for TxFIFO and RxFIFO
Automatic re-transmission on errors or arbitration loss in normal mode
Receive message FIFO with a depth of 64 messages
Acceptance filtering of four acceptance filters
Sleep mode with automatic wake-up
Snoop mode
Loopback mode for diagnostic applications
Maskable error and status interrupts
16-bit time stamping for receive messages
Readable error counters

UART Controllers (Two)
Programmable baud rate generator
64-byte receive and transmit FIFOs
6, 7, or 8 data bits
1, 1.5, or 2 stop bits
Odd, even, space, mark, or no parity
Parity, framing and overrun error detection
Line-break generation and detection
Automatic echo, local loopback, and remote loopback channel modes

Page 23

Interrupts generation
Rx and Tx signals are on the MIO and EMIO interfaces
Modem control signals: CTS, RTS, DSR, DTR, RI, and DCD are available on the EMIO interface

I2C Controllers (two)
Supports 16-byte FIFO
I2C bus specification version 2
Programmable normal and fast bus data rates
Master mode
  Write transfer
  Read transfer
  Extended address support
  Support HOLD for slow processor service
  Supports TO interrupt flag to avoid stall condition
Slave monitor mode
Slave mode
  Slave transmitter
  Slave receiver
  Extended address support
  Fully programmable slave response address
  Supports HOLD to prevent overflow condition
  Supports TO interrupt flag to avoid stall condition
Software can poll for status or function as interrupt-driven device
Programmable interrupt generation

PS MIO I/Os
The PS MIO I/O buffers are split into two voltage domains. Within each domain, each MIO is independently programmable.
Two I/O voltage banks
  Bank 0 voltage bank consists of pins 0:15
  Bank 1 voltage bank consists of pins 16:53

Page 24

MIO voltage levels can be programmed per bank.
  1.8 and 2.5/3.3 volts
  CMOS single ended or HSTL differential receiver mode
Programmable Logic Features and Descriptions
The PL provides a rich architecture of user-configurable capabilities.
Configurable logic blocks (CLB)
  6-input look-up tables (LUTs)
  Memory capability within the LUT
  Register and shift register functionality
  Cascadeable adders
36 Kb block RAM
  Dual port
  Up to 72-bits wide
  Configurable as dual 18 Kb
  Programmable FIFO logic
  Built-in error correction circuitry
Digital signal processing — DSP48E1 Slice
  25 × 18 two's complement multiplier/accumulator high-resolution (48 bit) signal processor
  Power saving 25-bit pre-adder to optimize symmetrical filter applications
  Advanced features: optional pipelining, optional ALU, and dedicated buses for cascading
Clock management
  High-speed buffers and routing for low-skew clock distribution
  Frequency synthesis and phase shifting
  Low-jitter clock generation and jitter filtering
Configurable I/Os
  High-performance SelectIO technology
  High-frequency decoupling capacitors within the package for enhanced signal integrity

Page 25

  Digitally controlled impedance that can be 3-stated for lowest power, high-speed I/O operation
  High range (HR) I/Os support 1.2V to 3.3V
  High performance (HP) I/Os support 1.2V to 1.8V (7z030, 7z035, 7z045, and 7z100 devices)
Low-power gigabit transceivers (7z012s, 7z015, 7z030, 7z035, 7z045, and 7z100 devices)
  High-performance transceivers capable of up to 12.5 Gb/s (GTX) in 7z030, 7z035, 7z045 and 7z100 devices
  High-performance transceivers capable of up to 6.25 Gb/s (GTP) in 7z012s and 7z015 devices
  Low-power mode optimized for chip-to-chip interfaces
  Advanced transmit pre- and post-emphasis, and receiver linear (CTLE) and decision feedback equalization (DFE), including adaptive equalization for additional margin
Analog-to-digital converter (XADC)
  Dual 12-bit 1 MSPS analog-to-digital converters (ADCs)
  Up to 17 flexible and user-configurable analog inputs
  On-chip or external reference option
  On-chip temperature and power supply sensors
  Continuous JTAG access to ADC measurements
Integrated interface blocks for PCI Express designs (7z015, 7z030, 7z035, 7z045, and 7z100 devices)
  Compatible to the PCI Express base specification 2.1 with Endpoint and Root Port capability
  Supports Gen1 (2.5 Gb/s) and Gen2 (5.0 Gb/s) speeds
  Advanced configuration options, advanced error reporting (AER), and end-to-end CRC (ECRC) advanced error reporting and ECRC features

Interconnect Features and Description
Zynq 7000 SoC devices uses several interconnect technologies, optimized to the specific communication needs of the functional blocks. For more information, refer to the block diagram in Figure 1-1(P12) or a more detailed diagram in Figure 5-1(P115).

Page 26

PS Interconnect Based on AXI High Performance Datapath Switches
OCM interconnect
  Provides access to the 256 KB memory from the central interconnect and the PL
  CPUs and ACP interfaces have the lowest latency access to OCM through the SCU
Central interconnect
  The central interconnect is 64 bits, connecting the IOP and DMA controller to the DDR memory controller, on-chip RAM, and the AXI_GP interfaces (through their switches) for the PL logic
  Connects the local DMA units in the Ethernet, USB and SD/SDIO controllers to the central interconnect
  Connects masters in the PS to the IOP

PS-PL Interfaces
The PS-PL interface contains all the signals available to the PL designer for integrating the PL-based functions and the PS. There are two types of interfaces between the PL and the PS.
1 Functional interfaces which include AXI interconnect, extended MIO interfaces (EMIO) for most of the I/O peripherals, interrupts, DMA flow control, clocks, and debug interfaces. These signals are available for connecting with user-designed IP blocks in the PL.
2 Configuration signals which include the processor configuration access port (PCAP), configuration status, single event upset (SEU) and Program/Done/Init. These signals are connected to fixed logic within the PL configuration block, providing PS control.

AXI functional interfaces:
AXI_ACP
  One 64-bit cache coherent slave port in the APU interfaces to a PL master port
  Connects to the snoop control unit for cache coherency between the CPUs and the PL
AXI_HP, four high performance/bandwidth master ports on the PS AXI interconnect
  32-bit or 64-bit data master interfaces (independently programmed)
  Efficient resizing in 32-bit slave interface configuration mode
  Efficient upsizing to 64-bits for aligned 32-bit transfers in 32-bit slave interface configuration mode

Page 27

  Automatic expansion to 64 bits for unaligned 32-bit transfers in 32-bit slave interface configuration mode
  Dynamic command upsizing translation between 32-bit and 64-bit interfaces, controllable through AxCACHE[1]
  Separate R/W programmable issuing capability for read and write commands
  Programmable release threshold of write commands
  Asynchronous clock frequency domain crossing for all AXI interfaces between the PL and PS
  Smoothing out of “long-latency” transfers using 1 KB (128 by 64 bits) data FIFOs for both reads and writes
  QoS signaling available from PL ports
  Command and data FIFO fill-level counts available to the PL
  Standard AXI 3.0 interfaces supported
  Large slave interface read acceptance capability in the range of 14 to 70 commands (burst length dependent)
  Large slave interface write acceptance capability in the range of 8 to 32 commands (burst length dependent)

AXI_GP, four general purpose ports
  Two, 32-bit master interfaces
  Two, 32-bit slave interfaces
  Asynchronous clock frequency domain crossing for all AXI interfaces between the PL and PS
  Standard AXI 3.0 interfaces supported


System Software
AMD provides device drivers for all of the I/O peripherals. These device drivers are provided in source format and support bare-metal or stand-alone and Linux. An example first-stage boot loader (FSBL) is also provided in source code format. The source drivers for stand-alone and FSBL are provided as part of the AMD IDE Design Suite Embedded Edition. The Linux drivers are provided through the AMD Open Source Wiki at wiki.xilinx.com(http://wiki.xilinx.com).

Refer to the Zynq-7000 Software Developers Guide (UG821 https://docs.amd.com/r/en-US/ug821-zynq-7000-swdev/Introduction-to-Programming-with-Zynq-7000-AP-SoC-Devices) for additional information.

In addition, AMD Alliance Program partners provide system software solutions for IP, middleware, operation systems, etc. Refer to the Zynq 7000 landing page at www.xilinx.com/zynq https://www.amd.com/en/products/adaptive-socs-and-fpgas/soc/zynq-7000.html for the latest information.






Page 28




# 2 Signals, Interfaces, and Pins

Chapter 2
Signals, Interfaces, and Pins
信号, 接口, 引脚

Introduction 介绍
This chapter identifies the user visible signals and interfaces in Zynq™ 7000 SoC devices. The interfaces and signals are organized into major groups as shown in Figure 2-1. The Zynq 7000 SoC devices consist of a Processing System (PS) with an AMD Artix™ 7 or Kintex™ 7 based Programmable Logic (PL) block.
这个章节定义用户可见信号和接口在Zynq7000SoC设备. 接口和信号被组织在主要组展示在图表2-1. Zynq7000Soc设备包括一个PS带AMDArtix7或者Kintex7基于可编程逻辑块.

Notices 注意
7z007s and 7z010 CLG225 Devices 7z007s和7z010 CLG225设备
The 7z007s single core and 7z010 dual core CLG225 devices (225 pin packages) support 32 MIO pins and at most one Ethernet interface through the MIO pins. This is shown in the MIO table in MIO-at-a-Glance Table(P39). One or both of the Ethernet controllers can interface to logic in the PL.
7z007s单核核核7z010双核CLG225设备(225针脚封装)支持32MIO针脚,最多一个以太接口通过MIO针脚. 这个被展示在MIO表在MIO-at-a-Glance表. 一个或两个的以太控制器可以连接到逻辑在PL中.

PS-PL Voltage Level Shifters PS-PL电压级别转换器
All of the signals and interfaces that go between the PS and PL traverse a voltage boundary. These input and output signals are routed through voltage level shifters that must be enabled and disabled during the power-up and power-down sequences of the PL. For more information on the voltage level shifters, refer to section PS–PL Voltage Level Shifter Enables(P32).
所有信号和接口去之间PS和PL穿过电压边界. 这些输入和输出信号被击溃穿过电压级别转换器, 必须启动或者关闭在期间电源开关序列PL. 更多信息在电压级别转换器, 参考部分PS-PL电压级转换器开启.

Pin Timing and Voltage Specifications 引脚时序和电压规格
Refer to the Zynq 7000 SoC Data Sheet for timing and pin voltage information.
参考zynq7000Soc数据表为时序和针脚电压信息.


organized 系统的有组织的
consist 包括
voltage 电压
shifters 转换器
traverse 穿过 横渡
boundary 边界
routed 



Page 29

Figure 2‐1: Signals, Interfaces, and Pins










# 3X

Page 30


Power Pins
The PS and PL power supplies are fully independent, however the PS power supply must be present whenever the PL power supply is active. PL power up needs to maintain a certain timing relationship with the POR reset signal of the PS. For more details refer to section BootROM Performance: PS_POR_B De-assertion Guidelines.

The PS includes an independent power supply for the DDR I/O and two independent voltage banks for MIO. The power pins are summarized in Table 2-1. The voltage sequencing and electrical specifications are shown in the applicable Zynq 7000 SoC data sheet. Also refer to the Zynq 7000 SoC packaging and pin documents for more information.



Note: Refer to the respective data sheet for recommended operating conditions.

Table 2‐1: Power Pins
Type Pin Name Nominal Voltage Power Pin Description

PS Power
VCCPINT
1.0V
Internal logic
VCCPAUX
1.8V
I/O buffer pre-driver
VCCO_DDR
1.2V to 1.8V
DDR memory interface
VCCO_MIO0
1.8V to 3.3V
MIO bank 0, pins 0:15
VCCO_MIO1
1.8V to 3.3V
MIO bank 1, pins 16:53
VCCPLL
1.8V
Three PLL clocks, analog
PL Power
VCCINT
1.0V
Internal core logic
VCCAUX
1.8V
I/O buffer pre-driver
VCCO_#
1.2V to 3.3V
I/O buffers drivers (per bank)
VCC_BATT
1.5V
PL decryption key memory backup
VCCBRAM
1.0V
PL block RAM
VCCAUX_IO_G#
1.8V to 2.0V
PL auxiliary I/O circuits
XADC
VCCADC,
GNDADC
N/A
Analog power and ground.
Ground
GND
Ground
Digital and analog grounds


Page 31

Zynq 7000 SoC Technical Reference Manual
31
UG585 (v1.14) June 30, 2023
Chapter 2: Signals, Interfaces, and Pins
PS I/O Pins
A summary of the dedicated PS signal pins is shown in Table 2-2.
CAUTION! For MIO pins, the allowable Vin High level voltage depends on the settings of the
slcr.MIO_PIN_xx [IO_Type] and [DisableRcvr] bits. These restrictions and the restrictions for all I/O pins
are defined in the Zynq 7000 SoC data sheets. Damage to the input buffer can occur when the limits are
exceeded.
7z007s and 7z010 Devices
The 7z007s single core and 7z010 dual core CLG225 devices (225 pin packages) have fewer
pins than the other Zynq 7000 SoC devices (see Table 2-2). Details for DDR and MIO pins
can be found in DDR Memory Controller and section MIO Pin Assignment Considerations,
respectively. There is more information about the CLG225 devices in section Notices.
Table 2‐2:
PS Signal Pins
Group
Name
Type
Zynq 7000
Family
Pin
Count(1)
7z007s
/7z010
Device
Pin
Count
Voltage
Node
Description
Clock
PS_CLK
I
1
1
VCCO_MIO0
System reference clock. See Clocks.
Reset
PS_POR_B
I
1
1
VCCO_MIO0
Power on reset, active low. See Reset System.
PS_SRST_B
I
1
1
VCCO_MIO1
Debug system reset, active Low. Forces the
system to enter a reset sequence. See Reset
System.
MIO
PS_MIO[15:0]
I/O
16
16
VCCO_MIO0
Refer to section PS-PL MIO-EMIO Signals and
Interfaces and the Zynq-7000 SoC Package and
Pinout Guide (UG865).
PS_MIO[53:16]
I/O
38
16
VCCO_MIO1
PS_MIO_VREF
Ref
1
0
VCCO_MIO1
Voltage reference for RGMII input receivers, refer
to the Zynq-7000 SoC PCB Design and Pin
Planning Guide (UG933).
DDR
PS_DDR_xxx
I/O
73
51
VCCO_DDR
See DDR Memory Controller.
]PS_DDR_VR[N,P
N/A
2
1
~
DDR DCI voltage reference pins, refer to the
Zynq-7000 SoC PCB Design and Pin Planning
Guide (UG933).
PS_DDR_VREF
Ref
4
4
~
Voltage reference for DDR DQ and DQS
differential input receivers, refer to the
Zynq-7000 SoC PCB Design and Pin Planning
Guide (UG933).
Notes:
1. Does not include 7z007s single core and 7z010 dual core CLG225 devices.


Page 32

Zynq 7000 SoC Technical Reference Manual
32
UG585 (v1.14) June 30, 2023
Chapter 2: Signals, Interfaces, and Pins
PS–PL Voltage Level Shifter Enables
All of the signals and interfaces that go between the PS and PL traverse a voltage boundary.
These input and output signals are routed through voltage level shifters. The majority of the
voltage level shifters are enabled by the slcr.LVL_SHFTR_EN register. The voltage level shifter
enables for some PS-PL traversing signals are controlled with the PL power state. These
include signals for the XADC, PL, and EMIO JTAGs; the PCAP interface; and other modules.
The enabling and disabling of the voltage level shifters must be managed during the PL
power-up and power-down sequences to avoid extraneous logic level transitions on the
input signals to the PS modules. Disable the voltage level shifters before the PL is powered
down. Similarly, enable the level shifters after the PL is powered up and before the signals
are used. The PS must be powered on to program the logic in the PL.
Example: Power-up Sequence
1.
Power-up the PL. Refer to the data sheet for voltage sequencing requirements. The
slcr.LVL_SHFTR_EN register should be equal to 0x0.
2.
Enable the PS-to-PL level shifters. Write 0x0A to the slcr.LVL_SHFTR_EN register.
3.
Program the PL.
4.
Wait for the PL to be programmed. Read devcfg.INT_STS [PCFG_DONE_INT] until = 1
to indicate that the DONE signals has asserted.
5.
Enable the PL-to-PS level shifters. Write 0x0F to the slcr.LVL_SHFTR_EN register.
6.
Begin to use the signals and interfaces between the PS and PL.
Example: Power-down Sequence
1.
Stop using the signals and interfaces between the PS and PL.
2.
Disable the voltage level shifters. Write 0x0 to the slcr.LVL_SHFTR_EN register.
3.
Power-down the PL. Refer to the data sheet for voltage sequencing requirements.
4.
Leave the slcr.LVL_SHFTR_EN register = 0x0 when the PL is powered down.
TIP: Functionally, there is no reason to enable the voltage level shifters until the PL is fully configured.
The PS does not allow the voltage level shifters to be enabled until the PL global signals indicate that
it is safe to do so. The PL is fully programmed when the PL DONE signal is High. The PL DONE signal
is tracked as an interrupt in the DevC subsystem.


Page 33



Page 34



Page 35



Page 36



Page 37



Page 38



Page 39








# 4X

Page 40




Page 41




Page 42




Page 43




Page 44




Page 45




Page 46




Page 47




Page 48




Page 49






# 3 Application Processing Unit



Chapter 3 Application Processing Unit 应用处理单元

Introduction 介绍
Basic Functionality 基本功能
The application processing unit (APU), located within the PS, contains one processor for single-core devices or two processors for dual-core devices. These are Arm™ Cortex™-A9 processors with NEON co-processors connected in an MP configuration sharing a 512 KB L2 cache. Each processor is a high-performance and low-power core that implements two separate 32 KB L1 caches for instruction and data. The Cortex-A9 processor implements the Arm v7-A architecture with full virtual memory support and can execute 32-bit Arm instructions, 16-bit and 32-bit Thumb instructions, and 8-bit Java™ byte codes in the Jazelle state. The NEON™ co-processor media and signal processing architecture adds instructions that target audio, video, image and speech processing, and 3D graphics. These advanced single instruction multiple data (SIMD) instructions are available in both Arm and Thumb states. A block diagram of the APU is shown in Figure 3-1(P50). 

The Cortex-A9 processor(s) within the APU are organized in an MP configuration with a snoop control unit (SCU) responsible for maintaining L1 cache coherency between the two processors and the ACP interface from the PL. To increase performance, there is a shared unified 512 KB level-two (L2) cache for instruction and data. In parallel to the L2 cache, there is a 256 KB on-chip memory (OCM) module that provides a low-latency memory. 

An accelerator coherency port (ACP) facilitates communication between the programmable logic (PL) and the APU. This 64-bit AXI interface allows the PL to implement an AXI master that can access the L2 and OCM while maintaining memory coherency with the CPU L1 caches. 

The unified 512 KB L2 cache is 8-way set-associative and allows you to lock the cache content on a line, way, or master basis. All accesses through the L2 cache controller can be routed to the DDR controller or can be sent to other slaves in the PS or PL depending on their address. To reduce latency to the DDR memory, there is a dedicated port from the L2 controller to the DDR controller. 

Debug and trace capability is built into the two processor cores and interconnects as a part of the CoreSight™ debug and trace system. You can control and interrogate the processor(s) and the memory through the debug access port (DAP). Furthermore, 32-bit AMBA™ trace




# 5X



Page 50


bus (ATB) masters from the processor(s) are funneled with other ATB masters, such as Instrumentation Trace Macrocell (ITM) and Fabric Trace Monitor (FTM), to generate the unified PS trace through the on-chip embedded trace buffer (ETB) or the trace-port interface units (TPIU).

Arm architecture supports multiple operating modes including supervisor, system, and user modes to provide different levels of protection at the application level. The architecture support for TrustZone technology helps to create a secure environment to run applications and protect their contents. TrustZone built into the Arm CPU processor and many peripherals enables a secure system to handle keys, private data, and encrypted information without allowing these secrets to leak to non-trusted programs or users.


Figure 3‐1: APU Block Diagram





Page 51


The APU contains a 32-bit watchdog timer and a 64-bit global timer with auto-decrement features that can be used as general-purpose timers and also as a mechanism to start up the processors from standby mode. 

System-Level View 
The APU is the most critical component of the system that comprises the PS, the IP cores implemented in the PL, and board-level devices such as the external memories and the peripherals. The main interfaces through which the APU communicates to the rest of the system are two interfaces through the L2 controller and an interface to the OCM that is parallel to the L2 cache. See Figure 3-1. 

All accesses from the dual/single Cortex-A9 MP system go through the SCU and all accesses from any other master that requires coherency with the Cortex-A9 MP system also need to be routed through the SCU using the ACP Port. All accesses that are not routed through the SCU are non-coherent with the CPU and software has to explicitly handle the synchronization and coherency. 

Accesses from the APU can target the OCM, DDR, PL, IOP slaves, or registers within the PS sub-blocks. To minimize the latency to the OCM, a dedicated master port from the SCU provides direct access by the processors and the ACP to the OCM, offering a latency that is even less than the L2 cache. 

All APU accesses to the DDR are routed through the L2 cache controller. To improve the latencies of the DDR accesses, there is a dedicated master port from the L2 cache controller to the DDR memory controller that allows all APU-DDR transactions to bypass the main interconnects which are shared with the other masters. All other accesses from the APU that are neither OCM-bound nor DDR-bound go through the L2 controller and are routed through the main interconnect using a second port. The accesses that pass through the L2 cache controller do not have to be cacheable. 

Exclusive access transactions from LDREX/SDREX instructions or ACP exclusive transactions in the APU are described under Exclusive AXI Accesses in Chapter 5. As shown in Figure 3-2, the APU and its sub-blocks all operate in the CPU_6x4x clock domain. The interfaces from the APU to the OCM and to the main interconnects are all synchronous. The main interconnects can run at 1/2 or 1/3 of the frequency of the CPU. The DDR block is on the DDR_3x clock domain and operates asynchronously to the APU. The ACP port to the APU block includes a synchronizer and the PL master that uses this port can have a clock that is asynchronous to the APU. 


Page 52




Page 53




Page 54




Page 55




Page 56




Page 57




Page 58




Page 59












# 6X



Page 60






# 7X




# 10X
# 4 System Addresses

# 11X
# 5 Interconnect


# 14X
# 6 Boot and Configuration

# 23X
# 7 Interrupts

# 24X
# 8 Timers

# 26X
# 9 DMA Controller

# 30X
# 10 DDR Memory Controller

# 34X
# 11 Static Memory Controller

# 36X
# 12 Quad-SPI Flash Controller

# 38X
# 13 SD/SDIO Controller

# 40X
# 14 General Purpose I/O (GPIO)

# 42X
# 15 USB Host, Device, and OTG Controller

# 51X
# 16 Gigabit Ethernet Controller

# 56X
# 17 SPI Controller

# 58X
# 18CAN Controller

# 61X
# 19 UART Controller

# 63X
# 20 I2C Controller

# 65X
# 21 Programmable Logic Description

# 68X
# 22 Programmable Logic Design Guide

# 70X
# 23 Programmable Logic Test and Debug

# 71X
# 24 Power Management

# 72X
# 25 Clocks

# 74X
# 26 Reset System

# 75X
# 27 JTAG and DAP Subsystem

# 76X
# 28 System Test and Debug

# 78X
# 29 On-Chip Memory (OCM)

# 79X
# 30 XADC Interface

# 81X
# 31 PCI Express

# 81X
# 32 Device Secure Boot




# 83X
# Appx A Register Details

# 193X
# Appx B Additional Resources and Legal Notices










